import{D as s,c as h,a as j}from"./Map.da6e859b.js";import{f as g,j as E,I,R as O,Z as x,J as A,E as C,a4 as M,a2 as N,a3 as T}from"./app.5957a2d0.js";var R=g({name:"YandexMarker",props:{coordinates:{type:Array,required:!0},markerId:{type:[String,Number],required:!0},properties:{type:Object,default:()=>({})},options:{type:Object,default:null},type:{type:String,default:"Point"},radius:{type:Number,default:null},events:{type:Array,default:()=>["click"],validator:e=>e.every(d=>s.includes(d))}},emits:[...s],setup(e,{emit:d,slots:a,expose:f}){var y,p;const{addGeoObject:b,deleteGeoObject:v}=N(j)||{},k=E(()=>e.coordinates.map(h)),c=I(!1),u={geometry:{type:e.type,coordinates:k.value,radius:e.radius},properties:{...e.properties,markerId:e.markerId}},i=(y=a.component)!=null&&y.call(a).length?ymaps.templateLayoutFactory.createClass(`<div id="balloon-${e.markerId}" class="yandex-balloon"><div>`,{build(){i.superclass.build.call(this),c.value=!0},clear(){c.value=!1,i.superclass.clear.call(this)}}):null,l={balloonContentLayout:i,...e.options},n=new ymaps.GeoObject(u,l);e.events.forEach(r=>{var t;return(t=n.events)==null?void 0:t.add(r,o=>d(r,o))}),T("marker",n);const m={...u,options:l};return O(()=>{b(n,m)}),x(()=>{v(n,m)}),A(()=>e.coordinates,r=>{var t,o;(o=(t=n.geometry)==null?void 0:t.setCoordinates)==null||o.call(t,r)}),f(n),(p=a.component)!=null&&p.call(a).length?()=>{var r;return c.value&&C(M,{to:`#balloon-${e.markerId}`},[(r=a.component)==null?void 0:r.call(a)])}:()=>{var r;return(r=a.default)==null?void 0:r.call(a)}}});export{R as Y};
